<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Taobao Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        nav {
            background: #f8f9fa;
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 25px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-btn.active {
            background: linear-gradient(45deg, #182848, #4b6cb7);
        }

        .section {
            padding: 25px;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-info-form {
            max-width: 500px;
            margin: 0 auto;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #495057;
        }

        .form-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .save-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .save-btn:hover {
            transform: translateY(-2px);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            border: 1px solid #e9ecef;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 2px solid #f1f3f5;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #212529;
        }

        .product-store {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .product-price {
            font-size: 20px;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 15px;
        }

        .add-to-cart {
            width: 100%;
            padding: 12px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .add-to-cart:hover {
            background: linear-gradient(45deg, #5a67d8, #6b46c1);
        }

        .cart-items {
            margin-top: 20px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            gap: 15px;
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-info {
            flex-grow: 1;
        }

        .cart-item-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #28a745;
            font-weight: bold;
        }

        .remove-from-cart {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
        }

        .cart-total {
            margin-top: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            text-align: center;
        }

        .total-price {
            font-size: 24px;
            font-weight: bold;
            color: #212529;
            margin-bottom: 15px;
        }

        .checkout-btn {
            padding: 15px 30px;
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
        }

        .user-info-display {
            background: #e7f5ff;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .info-row {
            display: flex;
            margin-bottom: 10px;
        }

        .info-label {
            font-weight: bold;
            min-width: 120px;
            color: #495057;
        }

        .info-value {
            color: #212529;
        }

        .edit-btn {
            background: #fd7e14;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            z-index: 1000;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.3s ease;
        }

        .notification.success {
            background: #28a745;
            opacity: 1;
            transform: translateX(0);
        }

        .notification.error {
            background: #dc3545;
            opacity: 1;
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üõí</div>
            <h1>AI Taobao Assistant</h1>
            <p>–ü–æ–∫—É–ø–∞–π—Ç–µ —Ç–æ–≤–∞—Ä—ã —Å Taobao —Å —É–¥–æ–±–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π!</p>
        </header>

        <nav>
            <button class="nav-btn active" onclick="showSection('products')">
                <span>üõçÔ∏è</span> –¢–æ–≤–∞—Ä—ã
            </button>
            <button class="nav-btn" onclick="showSection('cart')">
                <span>üõí</span> –ö–æ—Ä–∑–∏–Ω–∞ <span id="cart-count">0</span>
            </button>
            <button class="nav-btn" onclick="showSection('user')">
                <span>üë§</span> –ú–æ–∏ –¥–∞–Ω–Ω—ã–µ
            </button>
        </nav>

        <div class="section active" id="products-section">
            <h2>üéØ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>
            <div class="products-grid" id="products-grid">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>

        <div class="section" id="cart-section">
            <h2>üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <div class="cart-items" id="cart-items">
                <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
                <div class="empty-cart" id="empty-cart">
                    <p style="text-align: center; padding: 40px; color: #6c757d;">
                        –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–¢–æ–≤–∞—Ä—ã".
                    </p>
                </div>
            </div>
            <div class="cart-total">
                <div class="total-price" id="total-price">
                    –ò—Ç–æ–≥–æ: 0‚ÇΩ
                </div>
                <button class="checkout-btn" onclick="checkout()">
                    üöÄ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
            </div>
        </div>

        <div class="section" id="user-section">
            <h2>üë§ –ú–æ–∏ –¥–∞–Ω–Ω—ã–µ</h2>
            
            <div class="user-info-display" id="user-info-display" style="display: none;">
                <div class="info-row">
                    <span class="info-label">–ò–º—è:</span>
                    <span class="info-value" id="display-name"></span>
                </div>
                <div class="info-row">
                    <span class="info-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                    <span class="info-value" id="display-phone"></span>
                </div>
                <div class="info-row">
                    <span class="info-label">Email:</span>
                    <span class="info-value" id="display-email"></span>
                </div>
                <div class="info-row">
                    <span class="info-label">–ê–¥—Ä–µ—Å:</span>
                    <span class="info-value" id="display-address"></span>
                </div>
                <button class="edit-btn" onclick="editUserInfo()">
                    ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </div>

            <div class="user-info-form" id="user-info-form">
                <div class="form-group">
                    <label for="name">–§–ò–û *</label>
                    <input type="text" id="name" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
                </div>
                <div class="form-group">
                    <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" id="phone" placeholder="+7 (999) 123-45-67" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="ivanov@example.com">
                </div>
                <div class="form-group">
                    <label for="address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                    <input type="text" id="address" placeholder="–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1">
                </div>
                <button class="save-btn" onclick="saveUserInfo()">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                </button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userData = {
            name: '',
            phone: '',
            email: '',
            address: ''
        };

        // –ö–æ—Ä–∑–∏–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤
        let cart = [];

        // –ü—Ä–∏–º–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤
        const products = [
            {
                id: 1,
                name: "–°–º–∞—Ä—Ç—Ñ–æ–Ω Xiaomi Redmi Note 12",
                price: 15999,
                image: "https://via.placeholder.com/300x200/667eea/white?text=Xiaomi",
                store: "Xiaomi Official Store"
            },
            {
                id: 2,
                name: "–ù–∞—É—à–Ω–∏–∫–∏ Bluetooth TWS",
                price: 2999,
                image: "https://via.placeholder.com/300x200/764ba2/white?text=–ù–∞—É—à–Ω–∏–∫–∏",
                store: "Audio Gadgets Store"
            },
            {
                id: 3,
                name: "–£–º–Ω—ã–µ —á–∞—Å—ã Huawei Watch",
                price: 8999,
                image: "https://via.placeholder.com/300x200/28a745/white?text=–ß–∞—Å—ã",
                store: "Huawei Official"
            },
            {
                id: 4,
                name: "–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ JBL",
                price: 4999,
                image: "https://via.placeholder.com/300x200/dc3545/white?text=–ö–æ–ª–æ–Ω–∫–∞",
                store: "Audio Equipment Store"
            },
            {
                id: 5,
                name: "–§–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–∫–µ—Ä Mi Band 8",
                price: 3499,
                image: "https://via.placeholder.com/300x200/fd7e14/white?text=Mi+Band",
                store: "Xiaomi Official Store"
            },
            {
                id: 6,
                name: "Powerbank 20000 mAh",
                price: 1999,
                image: "https://via.placeholder.com/300x200/6f42c1/white?text=Powerbank",
                store: "Gadgets World"
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            loadCart();
            renderProducts();
            updateCartDisplay();
            checkUserInfo();
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–¥–µ–ª
        function showSection(sectionId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª
            document.getElementById(sectionId + '-section').classList.add('active');
            
            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É
            document.querySelector(`.nav-btn[onclick="showSection('${sectionId}')"]`).classList.add('active');
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserData() {
            const saved = localStorage.getItem('userData');
            if (saved) {
                userData = JSON.parse(saved);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function saveUserInfo() {
            userData = {
                name: document.getElementById('name').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                email: document.getElementById('email').value.trim(),
                address: document.getElementById('address').value.trim()
            };

            if (!userData.name || !userData.phone) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–§–ò–û –∏ –¢–µ–ª–µ—Ñ–æ–Ω)', 'error');
                return;
            }

            localStorage.setItem('userData', JSON.stringify(userData));
            showNotification('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
            checkUserInfo();
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function editUserInfo() {
            document.getElementById('name').value = userData.name;
            document.getElementById('phone').value = userData.phone;
            document.getElementById('email').value = userData.email;
            document.getElementById('address').value = userData.address;
            
            document.getElementById('user-info-display').style.display = 'none';
            document.getElementById('user-info-form').style.display = 'block';
        }

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function checkUserInfo() {
            const displayDiv = document.getElementById('user-info-display');
            const formDiv = document.getElementById('user-info-form');
            
            if (userData.name && userData.phone) {
                document.getElementById('display-name').textContent = userData.name;
                document.getElementById('display-phone').textContent = userData.phone;
                document.getElementById('display-email').textContent = userData.email || '–ù–µ —É–∫–∞–∑–∞–Ω';
                document.getElementById('display-address').textContent = userData.address || '–ù–µ —É–∫–∞–∑–∞–Ω';
                
                displayDiv.style.display = 'block';
                formDiv.style.display = 'none';
            } else {
                displayDiv.style.display = 'none';
                formDiv.style.display = 'block';
            }
        }

        // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
        function renderProducts() {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-store">${product.store}</div>
                        <div class="product-price">${product.price.toLocaleString()}‚ÇΩ</div>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">
                            üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                `;
                grid.appendChild(productCard);
            });
        }

        // –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                cart.push(product);
                saveCart();
                updateCartDisplay();
                showNotification(`"${product.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`, 'success');
            }
        }

        // –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
        function removeFromCart(index) {
            const removedItem = cart[index];
            cart.splice(index, 1);
            saveCart();
            updateCartDisplay();
            showNotification(`"${removedItem.name}" —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã`, 'error');
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
        function loadCart() {
            const saved = localStorage.getItem('cart');
            if (saved) {
                cart = JSON.parse(saved);
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            const emptyCart = document.getElementById('empty-cart');
            const totalPrice = document.getElementById('total-price');
            const cartCount = document.getElementById('cart-count');
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫
            cartCount.textContent = cart.length;
            
            if (cart.length === 0) {
                emptyCart.style.display = 'block';
                cartItems.innerHTML = '';
                cartItems.appendChild(emptyCart);
                totalPrice.textContent = '–ò—Ç–æ–≥–æ: 0‚ÇΩ';
                return;
            }
            
            emptyCart.style.display = 'none';
            
            // –û—á–∏—Å—Ç–∏—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
            cartItems.innerHTML = '';
            let total = 0;
            
            cart.forEach((item, index) => {
                total += item.price;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">${item.price.toLocaleString()}‚ÇΩ</div>
                    </div>
                    <button class="remove-from-cart" onclick="removeFromCart(${index})">
                        ‚ùå
                    </button>
                `;
                cartItems.appendChild(cartItem);
            });
            
            totalPrice.textContent = `–ò—Ç–æ–≥–æ: ${total.toLocaleString()}‚ÇΩ`;
        }

        // –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        function checkout() {
            if (cart.length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!', 'error');
                return;
            }

            if (!userData.name || !userData.phone) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', 'error');
                editUserInfo();
                showSection('user');
                return;
            }

            const total = cart.reduce((sum, item) => sum + item.price, 0);
            const orderData = {
                action: 'checkout',
                user: userData,
                items: cart.map(item => ({ 
                    id: item.id,
                    name: item.name, 
                    price: item.price,
                    image: item.image,
                    store: item.store
                })),
                total: total,
                timestamp: new Date().toISOString()
            };

            console.log('–î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞:', orderData);

            // –î–ï–ë–ê–ì: –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ localStorage –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            localStorage.setItem('last_order_debug', JSON.stringify(orderData));
            console.log('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ localStorage –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏');

            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                try {
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∫ —Å—Ç—Ä–æ–∫—É JSON
                    Telegram.WebApp.sendData(JSON.stringify(orderData));
                    console.log('–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ WebApp');
                    
                    showNotification(`üéâ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –°—É–º–º–∞: ${total}‚ÇΩ`, 'success');
                    cart = [];
                    saveCart();
                    updateCartDisplay();
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞', 'error');
                }
            } else {
                // –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–µ—Å–ª–∏ –Ω–µ –≤ Telegram)
                console.log('–î–µ–º–æ-—Ä–µ–∂–∏–º, –¥–∞–Ω–Ω—ã–µ:', orderData);
                showNotification(`üéâ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! (–î–µ–º–æ-—Ä–µ–∂–∏–º) –°—É–º–º–∞: ${total}‚ÇΩ`, 'success');
                cart = [];
                saveCart();
                updateCartDisplay();
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification ' + type;
            
            setTimeout(() => {
                notification.className = 'notification';
            }, 3000);
        }

        // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏: –≤—ã–≤–µ—Å—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑ –≤ –∫–æ–Ω—Å–æ–ª—å
        function debugLastOrder() {
            const lastOrder = localStorage.getItem('last_order_debug');
            if (lastOrder) {
                console.log('–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑ (debug):', JSON.parse(lastOrder));
            } else {
                console.log('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫–∞–∑–∞');
            }
        }
    </script>
</body>
</html>
